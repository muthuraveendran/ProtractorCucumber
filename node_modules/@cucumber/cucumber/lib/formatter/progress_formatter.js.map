{"version":3,"file":"progress_formatter.js","sourceRoot":"","sources":["../../src/formatter/progress_formatter.ts"],"names":[],"mappings":";;;;;AAAA,4EAAkD;AAClD,uDAA8B;AAC9B,oDAAgD;AAMhD,MAAM,wBAAwB,GAA8B;IAC1D,CAAC,gBAAM,CAAC,SAAS,CAAC,EAAE,GAAG;IACvB,CAAC,gBAAM,CAAC,MAAM,CAAC,EAAE,GAAG;IACpB,CAAC,gBAAM,CAAC,MAAM,CAAC,EAAE,GAAG;IACpB,CAAC,gBAAM,CAAC,OAAO,CAAC,EAAE,GAAG;IACrB,CAAC,gBAAM,CAAC,OAAO,CAAC,EAAE,GAAG;IACrB,CAAC,gBAAM,CAAC,SAAS,CAAC,EAAE,GAAG;CACxB,CAAA;AAED,MAAqB,iBAAkB,SAAQ,2BAAgB;IAC7D,YAAY,OAA0B;QACpC,OAAO,CAAC,gBAAgB,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,QAAmB,EAAE,EAAE;YAC9D,IAAI,6BAAa,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;gBAC3C,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;aACjB;iBAAM,IAAI,6BAAa,CAAC,QAAQ,CAAC,gBAAgB,CAAC,EAAE;gBACnD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAA;aAC5C;QACH,CAAC,CAAC,CAAA;QACF,KAAK,CAAC,OAAO,CAAC,CAAA;IAChB,CAAC;IAED,WAAW,CAAC,EAAE,cAAc,EAAE,EAAE,MAAM,EAAE,EAAqB;QAC3D,MAAM,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAC/C,wBAAwB,CAAC,MAAM,CAAC,CACjC,CAAA;QACD,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;IACrB,CAAC;CACF;AAlBD,oCAkBC","sourcesContent":["import SummaryFormatter from './summary_formatter'\nimport Status from '../status'\nimport { doesHaveValue } from '../value_checker'\nimport { IFormatterOptions } from './index'\nimport { messages } from '@cucumber/messages'\nimport IEnvelope = messages.IEnvelope\nimport ITestStepFinished = messages.ITestStepFinished\n\nconst STATUS_CHARACTER_MAPPING: { [key: number]: string } = {\n  [Status.AMBIGUOUS]: 'A',\n  [Status.FAILED]: 'F',\n  [Status.PASSED]: '.',\n  [Status.PENDING]: 'P',\n  [Status.SKIPPED]: '-',\n  [Status.UNDEFINED]: 'U',\n}\n\nexport default class ProgressFormatter extends SummaryFormatter {\n  constructor(options: IFormatterOptions) {\n    options.eventBroadcaster.on('envelope', (envelope: IEnvelope) => {\n      if (doesHaveValue(envelope.testRunFinished)) {\n        this.log('\\n\\n')\n      } else if (doesHaveValue(envelope.testStepFinished)) {\n        this.logProgress(envelope.testStepFinished)\n      }\n    })\n    super(options)\n  }\n\n  logProgress({ testStepResult: { status } }: ITestStepFinished): void {\n    const character = this.colorFns.forStatus(status)(\n      STATUS_CHARACTER_MAPPING[status]\n    )\n    this.log(character)\n  }\n}\n"]}