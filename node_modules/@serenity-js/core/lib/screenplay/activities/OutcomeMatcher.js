"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.OutcomeMatcher = void 0;
const tiny_types_1 = require("tiny-types");
const errors_1 = require("../../errors");
const model_1 = require("../../model");
/** @package */
class OutcomeMatcher {
    outcomeFor(error) {
        return tiny_types_1.match(error)
            .when(errors_1.ImplementationPendingError, _ => new model_1.ImplementationPending(error))
            .when(errors_1.TestCompromisedError, _ => new model_1.ExecutionCompromised(error))
            .when(errors_1.AssertionError, _ => new model_1.ExecutionFailedWithAssertionError(error))
            .when(Error, _ => /AssertionError/.test(error.constructor.name) // mocha
            ? new model_1.ExecutionFailedWithAssertionError(error)
            : new model_1.ExecutionFailedWithError(error))
            .else(_ => new model_1.ExecutionFailedWithError(error));
    }
}
exports.OutcomeMatcher = OutcomeMatcher;
//# sourceMappingURL=OutcomeMatcher.js.map