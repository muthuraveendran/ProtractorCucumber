"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.normalize = void 0;
/* eslint-disable unicorn/consistent-function-scoping */
const tiny_types_1 = require("tiny-types");
/**
 * @desc
 *  Returns the String value result of normalizing the string into the normalization form
 *  named by form as specified in Unicode Standard Annex #15, Unicode Normalization Forms.
 *
 * @param {Answerable<string>} [form]
 *  One of "NFC", "NFD", "NFKC", or "NFKD", specifying the Unicode Normalization Form. If omitted or undefined, "NFC" is used.
 *  These values have the following meanings:
 *   "NFC" - Canonical Decomposition, followed by Canonical Composition.
 *   "NFD" - Canonical Decomposition.
 *   "NFKC" - Compatibility Decomposition, followed by Canonical Composition.
 *   "NFKD" - Compatibility Decomposition.
 *
 * @returns {AnswerMappingFunction<string, string>}
 *
 * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize
 */
function normalize(form) {
    return (actor) => (value) => {
        tiny_types_1.ensure('The value to be mapped', value, tiny_types_1.isDefined(), tiny_types_1.isString());
        return actor.answer(form).then(answer => value.normalize(answer));
    };
}
exports.normalize = normalize;
//# sourceMappingURL=normalize.js.map